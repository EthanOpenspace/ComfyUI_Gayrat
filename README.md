# fork from  
Это fork репозитария Алексея
https://github.com/AlekPet/ComfyUI_Custom_Nodes_AlekPet
 
# fork from

Это fork chflame163
https://github.com/chflame163/ComfyUI_LayerStyle

Собственно сам репозиторий является компактной сборкой с небольшой модификацией кода.

## Переводчик Google

Данные ноды только переводят с помощью Google translate.

Никакого ключа создавать не требуется

GoogleTranslateCLIPTextEncodeNode

GoogleTranslateTextNode

## Image resize

Представлена ровно одна нода которая позволяет делать resize картинки и/или маски

Маску можно не указывать - тогда будет обычный resize (или upscale)

Для upscale желательно использовать другую ноду.

ImageScaleByAspectRatioV2

## Слайдер Float

Float slider

Замена для 
https://github.com/11dogzi/Comfyui-ergouzi-Nodes


## хеш последнего комита
git ls-remote https://github.com/gayratv/ComfyUI_Gayrat HEAD


## Вычисление процентного соотношения площади маски к общей площади изображения

fork from https://github.com/a-und-b/ComfyUI_MaskAreaCondition

## добавлена нода SaveImageWithMask

fork from
https://github.com/MinorBoy/ComfyUI_essentials_mb

## Color Correction
fork from
https://github.com/melMass/comfy_mtb/blob/7e89e96e9d83d7753a64a528df0828eb82a5f20d/nodes/image_processing.py#L432


## latent с размерами FluxSDLatentImage

fork from
https://github.com/GavChap/ComfyUI-SD3LatentSelectRes

### Документация узла FluxSDLatentImage

#### Обзор

FluxSDLatentImage — это пользовательский узел для ComfyUI, предназначенный для создания пустых латентных изображений для моделей Flux, SD (Stable Diffusion) и SDXL. Узел обеспечивает правильную инициализацию и полную поддержку соотношений сторон с предустановленными оптимальными разрешениями для каждого типа модели.

#### Возможности

- **Поддержка нескольких моделей**: Работает с SD 1.5, SDXL и Flux
- **Оптимизированные пресеты**: Предустановленные разрешения, оптимизированные для каждой модели
- **Поддержка соотношений сторон**: 5 распространённых соотношений (1:1, 4:3, 3:4, 16:9, 9:16)
- **Умная инициализация**: Различные методы инициализации для разных моделей
- **Оптимизация памяти**: По умолчанию 896x896 для Flux для экономии памяти
- **Управление seed**: Расширенное управление seed с несколькими режимами

#### Параметры узла

##### Входные параметры

| Параметр | Тип | Описание | По умолчанию |
|----------|-----|----------|--------------|
| **model** | COMBO | Выбор типа модели: SD, SDXL или Flux | - |
| **aspect_ratio** | COMBO | Соотношение сторон: 1:1, 4:3, 3:4, 16:9, 9:16 | - |
| **size** | COMBO | Разрешение (динамически обновляется в зависимости от модели и соотношения) | 896x896 (Flux) |
| **batch_size** | INT | Количество латентных изображений для генерации | 1 |
| **seed** | INT | Случайное зерно для генерации | 0 |
| **control_after_generate** | COMBO | Поведение seed после генерации (опционально) | randomize |



#### Спецификации моделей

##### SD (Stable Diffusion 1.5)
- **Каналы**: 4
- **Инициализация**: Константа (0.0609)
- **Тип данных**: float32
- **Оптимальный размер**: 512x512

##### SDXL
- **Каналы**: 4
- **Инициализация**: Константа (0.0609)
- **Тип данных**: float32
- **Оптимальный размер**: 1024x1024

##### Flux
- **Каналы**: 16
- **Инициализация**: Случайный шум
- **Тип данных**: float16
- **Оптимальный размер**: 896x896 (оптимизировано по памяти)

#### Поддерживаемые разрешения

##### Разрешения SD
```
1:1  → 512x512, 640x640, 768x768
4:3  → 512x384, 640x480, 768x576
3:4  → 384x512, 480x640, 576x768
16:9 → 512x288, 640x360, 768x432, 896x512
9:16 → 288x512, 360x640, 432x768, 512x896
```

##### Разрешения SDXL
```
1:1  → 768x768, 896x896, 1024x1024, 1152x1152
4:3  → 768x576, 896x672, 1024x768, 1152x864
3:4  → 576x768, 672x896, 768x1024, 864x1152
16:9 → 768x432, 896x512, 1024x576, 1152x640, 1280x720
9:16 → 432x768, 512x896, 576x1024, 640x1152, 720x1280
```

##### Разрешения Flux
```
1:1  → 896x896, 1024x1024, 1152x1152, 1280x1280, 1408x1408
4:3  → 896x672, 1024x768, 1152x864, 1280x960, 1408x1056
3:4  → 672x896, 768x1024, 864x1152, 960x1280, 1056x1408
16:9 → 896x512, 1024x576, 1152x640, 1280x720, 1408x800, 1536x864, 1920x1088
9:16 → 512x896, 576x1024, 640x1152, 720x1280, 800x1408, 864x1536, 1088x1920
```


#### Технические детали

##### Оптимизация памяти
Для моделей Flux рекомендуемое разрешение — 896x896, так как оно обеспечивает хороший баланс между качеством и использованием памяти. Узел использует точность float16 для Flux для дополнительного снижения потребления памяти.

